(function e(r,t){if(typeof exports==="object"&&typeof module==="object")module.exports=t();else if(typeof define==="function"&&define.amd)define([],t);else if(typeof exports==="object")exports["Graph"]=t();else r["Graph"]=t()})(this,function(){return function(e){var r={};function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:false};e[n].call(a.exports,a,a.exports,t);a.loaded=true;return a.exports}t.m=e;t.c=r;t.p="";return t(0)}({0:function(e,r,t){e.exports=t(39)},39:function(e,r){"use strict";var t=Function.prototype.bind;var n=function(){function e(e,r){var t=[];var n=true;var a=false;var i=undefined;try{for(var s=e[Symbol.iterator](),u;!(n=(u=s.next()).done);n=true){t.push(u.value);if(r&&t.length===r)break}}catch(e){a=true;i=e}finally{try{if(!n&&s["return"])s["return"]()}finally{if(a)throw i}}return t}return function(r,t){if(Array.isArray(r)){return r}else if(Symbol.iterator in Object(r)){return e(r,t)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var a=function e(r,t,n){var a=true;e:while(a){var i=r,s=t,u=n;a=false;if(i===null)i=Function.prototype;var o=Object.getOwnPropertyDescriptor(i,s);if(o===undefined){var f=Object.getPrototypeOf(i);if(f===null){return undefined}else{r=f;t=s;n=u;a=true;o=f=undefined;continue e}}else if("value"in o){return o.value}else{var c=o.get;if(c===undefined){return undefined}return c.call(u)}}};var i=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(r,t,n){if(t)e(r.prototype,t);if(n)e(r,n);return r}}();function s(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}else{return Array.from(e)}}function u(e,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof r)}e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(r)Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r}function o(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}var f=Symbol("vertices");var c=Symbol("edges");var v=Symbol("reverse edges");var l=Symbol("sources");var h=Symbol("sinks");var d=Symbol("edge count");var y=Symbol("listeners");var p=Symbol("trigger");var x=Symbol("vertices from");var g=Symbol("vertices to");var b=Symbol("vertices with path to");var m=Symbol("vertices with path from");var k=Symbol("paths");var w=Symbol("expect vertices");var E=Symbol("expect vertex absent");var S=Symbol("expect edge");var V=Symbol("expect edge absent");var O=Symbol("expect no connected edges");var R=function(){function e(){o(this,e);this[f]=new Map;this[c]=new Map;this[v]=new Map;this[l]=new Set;this[h]=new Set;this[d]=0;this[y]=new Map;var r=true;var t=false;var a=undefined;try{for(var i=arguments.length,s=Array(i),u=0;u<i;u++){s[u]=arguments[u]}for(var p=s[Symbol.iterator](),x;!(r=(x=p.next()).done);r=true){var g=n(x.value,2);var b=g[0];var m=g[1];if(Array.isArray(b)){var k=n(b,2);var w=k[0];var E=k[1];this.createEdge(w,E,m)}else{this.addVertex(b,m)}}}catch(e){t=true;a=e}finally{try{if(!r&&p["return"]){p["return"]()}}finally{if(t){throw a}}}}i(e,[{key:"on",value:function e(r,t){if(!this[y].has(r)){this[y].set(r,new Set)}this[y].get(r).add(t)}},{key:"off",value:function e(r,t){if(this[y].has(r)){this[y].get(r)["delete"](t)}}},{key:p,value:function e(r,t){var n=true;var a=false;var i=undefined;try{for(var s=(this[y].get(r)||[])[Symbol.iterator](),u;!(n=(u=s.next()).done);n=true){var o=u.value;o(t)}}catch(e){a=true;i=e}finally{try{if(!n&&s["return"]){s["return"]()}}finally{if(a){throw i}}}}},{key:"addNewVertex",value:function e(r,t){this[E](r);this[f].set(r,t);this[c].set(r,new Map);this[v].set(r,new Set);this[l].add(r);this[h].add(r);this[p]("vertex-added",[r,t]);this[p]("vertex-modified",[r,t])}},{key:"setVertex",value:function e(r,t){this[w](r);this[f].set(r,t);this[p]("vertex-modified",[r,t])}},{key:"ensureVertex",value:function e(r,t){if(!this.hasVertex(r)){this.addNewVertex(r,t)}}},{key:"addVertex",value:function e(r,t){if(this.hasVertex(r)){this.setVertex(r,t)}else{this.addNewVertex(r,t)}}},{key:"removeExistingVertex",value:function e(r){this[w](r);this[O](r);this[f]["delete"](r);this[l]["delete"](r);this[h]["delete"](r);this[p]("vertex-removed",r)}},{key:"destroyExistingVertex",value:function e(r){this[w](r);var t=true;var a=false;var i=undefined;try{for(var s=this.verticesFrom(r)[Symbol.iterator](),u;!(t=(u=s.next()).done);t=true){var o=n(u.value,1);var f=o[0];this.removeEdge(r,f)}}catch(e){a=true;i=e}finally{try{if(!t&&s["return"]){s["return"]()}}finally{if(a){throw i}}}var c=true;var v=false;var l=undefined;try{for(var h=this.verticesTo(r)[Symbol.iterator](),d;!(c=(d=h.next()).done);c=true){var y=n(d.value,1);var p=y[0];this.removeEdge(p,r)}}catch(e){v=true;l=e}finally{try{if(!c&&h["return"]){h["return"]()}}finally{if(v){throw l}}}this.removeExistingVertex(r)}},{key:"removeVertex",value:function e(r){if(this.hasVertex(r)){this.removeExistingVertex(r)}}},{key:"destroyVertex",value:function e(r){if(this.hasVertex(r)){this.destroyExistingVertex(r)}}},{key:"vertexCount",value:function e(){return this[f].size}},{key:"hasVertex",value:function e(r){return this[f].has(r)}},{key:"vertexValue",value:function e(r){return this[f].get(r)}},{key:"addNewEdge",value:function e(r,t,n){this[V]([r,t]);this[w](r,t);this[c].get(r).set(t,n);this[v].get(t).add(r);this[d]+=1;this[l]["delete"](t);this[h]["delete"](r);this[p]("edge-added",[[r,t],n]);this[p]("edge-modified",[[r,t],n])}},{key:"createNewEdge",value:function e(r,t,n){this[V]([r,t]);this.ensureVertex(r);this.ensureVertex(t);this.addNewEdge(r,t,n)}},{key:"setEdge",value:function e(r,t,n){this[S]([r,t]);this[c].get(r).set(t,n);this[p]("edge-modified",[[r,t],n])}},{key:"spanEdge",value:function e(r,t,n){this[w](r,t);if(!this.hasEdge(r,t)){this.addNewEdge(r,t,n)}}},{key:"addEdge",value:function e(r,t,n){if(this.hasEdge(r,t)){this.setEdge(r,t,n)}else{this.addNewEdge(r,t,n)}}},{key:"ensureEdge",value:function e(r,t,n){if(!this.hasEdge(r,t)){this.createNewEdge(r,t,n)}}},{key:"createEdge",value:function e(r,t,n){if(this.hasEdge(r,t)){this.setEdge(r,t,n)}else{this.createNewEdge(r,t,n)}}},{key:"removeExistingEdge",value:function e(r,t){this[S]([r,t]);this[c].get(r)["delete"](t);this[v].get(t)["delete"](r);this[d]-=1;if(this.inDegree(t)===0){this[l].add(t)}if(this.outDegree(r)===0){this[h].add(r)}this[p]("edge-removed",[r,t])}},{key:"removeEdge",value:function e(r,t){if(this.hasEdge(r,t)){this.removeExistingEdge(r,t)}}},{key:"edgeCount",value:function e(){return this[d]}},{key:"hasEdge",value:function e(r,t){return this.hasVertex(r)&&this.hasVertex(t)&&this[c].has(r)&&this[c].get(r).has(t)}},{key:"edgeValue",value:function e(r,t){return this.hasEdge(r,t)?this[c].get(r).get(t):undefined}},{key:"vertices",value:regeneratorRuntime.mark(function e(){var r,t,a,i,s,u,o,c,v;return regeneratorRuntime.wrap(function e(l){while(1)switch(l.prev=l.next){case 0:r=new Set;t=true;a=false;i=undefined;l.prev=4;s=this[f][Symbol.iterator]();case 6:if(t=(u=s.next()).done){l.next=17;break}o=n(u.value,2);c=o[0];v=o[1];if(!(this.hasVertex(c)&&!r.has(c))){l.next=14;break}r.add(c);l.next=14;return[c,v];case 14:t=true;l.next=6;break;case 17:l.next=23;break;case 19:l.prev=19;l.t0=l["catch"](4);a=true;i=l.t0;case 23:l.prev=23;l.prev=24;if(!t&&s["return"]){s["return"]()}case 26:l.prev=26;if(!a){l.next=29;break}throw i;case 29:return l.finish(26);case 30:return l.finish(23);case 31:case"end":return l.stop()}},e,this,[[4,19,23,31],[24,,26,30]])})},{key:Symbol.iterator,value:function e(){return this.vertices()}},{key:"edges",value:regeneratorRuntime.mark(function e(){var r,t,n,a,i,s,u,o,f,v,l,h,d;return regeneratorRuntime.wrap(function e(y){while(1)switch(y.prev=y.next){case 0:r=new Map;t=true;n=false;a=undefined;y.prev=4;i=this[c].keys()[Symbol.iterator]();case 6:if(t=(s=i.next()).done){y.next=40;break}u=s.value;r.set(u,new Set);o=true;f=false;v=undefined;y.prev=12;l=this[c].get(u).keys()[Symbol.iterator]();case 14:if(o=(h=l.next()).done){y.next=23;break}d=h.value;if(!(this.hasEdge(u,d)&&!r.get(u).has(d))){y.next=20;break}r.get(u).add(d);y.next=20;return[u,d,this[c].get(u).get(d)];case 20:o=true;y.next=14;break;case 23:y.next=29;break;case 25:y.prev=25;y.t0=y["catch"](12);f=true;v=y.t0;case 29:y.prev=29;y.prev=30;if(!o&&l["return"]){l["return"]()}case 32:y.prev=32;if(!f){y.next=35;break}throw v;case 35:return y.finish(32);case 36:return y.finish(29);case 37:t=true;y.next=6;break;case 40:y.next=46;break;case 42:y.prev=42;y.t1=y["catch"](4);n=true;a=y.t1;case 46:y.prev=46;y.prev=47;if(!t&&i["return"]){i["return"]()}case 49:y.prev=49;if(!n){y.next=52;break}throw a;case 52:return y.finish(49);case 53:return y.finish(46);case 54:case"end":return y.stop()}},e,this,[[4,42,46,54],[12,25,29,37],[30,,32,36],[47,,49,53]])})},{key:"verticesFrom",value:function e(r){this[w](r);return this[x](r)}},{key:x,value:regeneratorRuntime.mark(function e(r){var t,n,a,i,s,u,o;return regeneratorRuntime.wrap(function e(v){while(1)switch(v.prev=v.next){case 0:t=new Set;n=true;a=false;i=undefined;v.prev=4;s=this[c].get(r).keys()[Symbol.iterator]();case 6:if(n=(u=s.next()).done){v.next=15;break}o=u.value;if(!(this.hasEdge(r,o)&&!t.has(o))){v.next=12;break}t.add(o);v.next=12;return[o,this[f].get(o),this[c].get(r).get(o)];case 12:n=true;v.next=6;break;case 15:v.next=21;break;case 17:v.prev=17;v.t0=v["catch"](4);a=true;i=v.t0;case 21:v.prev=21;v.prev=22;if(!n&&s["return"]){s["return"]()}case 24:v.prev=24;if(!a){v.next=27;break}throw i;case 27:return v.finish(24);case 28:return v.finish(21);case 29:case"end":return v.stop()}},e,this,[[4,17,21,29],[22,,24,28]])})},{key:"verticesTo",value:function e(r){this[w](r);return this[g](r)}},{key:g,value:regeneratorRuntime.mark(function e(r){var t,n,a,i,s,u,o;return regeneratorRuntime.wrap(function e(l){while(1)switch(l.prev=l.next){case 0:t=new Set;n=true;a=false;i=undefined;l.prev=4;s=this[v].get(r)[Symbol.iterator]();case 6:if(n=(u=s.next()).done){l.next=15;break}o=u.value;if(!(this.hasEdge(o,r)&&!t.has(o))){l.next=12;break}t.add(o);l.next=12;return[o,this[f].get(o),this[c].get(o).get(r)];case 12:n=true;l.next=6;break;case 15:l.next=21;break;case 17:l.prev=17;l.t0=l["catch"](4);a=true;i=l.t0;case 21:l.prev=21;l.prev=22;if(!n&&s["return"]){s["return"]()}case 24:l.prev=24;if(!a){l.next=27;break}throw i;case 27:return l.finish(24);case 28:return l.finish(21);case 29:case"end":return l.stop()}},e,this,[[4,17,21,29],[22,,24,28]])})},{key:"verticesWithPathFrom",value:function e(r){this[w](r);return this[m](r,new Set)}},{key:m,value:regeneratorRuntime.mark(function e(r,t){var n,a,i,s,u,o;return regeneratorRuntime.wrap(function e(v){while(1)switch(v.prev=v.next){case 0:n=true;a=false;i=undefined;v.prev=3;s=this[c].get(r).keys()[Symbol.iterator]();case 5:if(n=(u=s.next()).done){v.next=15;break}o=u.value;if(!(this.hasEdge(r,o)&&!t.has(o))){v.next=12;break}t.add(o);v.next=11;return[o,this[f].get(o)];case 11:return v.delegateYield(this[m](o,t),"t0",12);case 12:n=true;v.next=5;break;case 15:v.next=21;break;case 17:v.prev=17;v.t1=v["catch"](3);a=true;i=v.t1;case 21:v.prev=21;v.prev=22;if(!n&&s["return"]){s["return"]()}case 24:v.prev=24;if(!a){v.next=27;break}throw i;case 27:return v.finish(24);case 28:return v.finish(21);case 29:case"end":return v.stop()}},e,this,[[3,17,21,29],[22,,24,28]])})},{key:"verticesWithPathTo",value:function e(r){this[w](r);return this[b](r,new Set)}},{key:b,value:regeneratorRuntime.mark(function e(r,t){var n,a,i,s,u,o;return regeneratorRuntime.wrap(function e(c){while(1)switch(c.prev=c.next){case 0:n=true;a=false;i=undefined;c.prev=3;s=this[v].get(r)[Symbol.iterator]();case 5:if(n=(u=s.next()).done){c.next=15;break}o=u.value;if(!(this.hasEdge(o,r)&&!t.has(o))){c.next=12;break}t.add(o);c.next=11;return[o,this[f].get(o)];case 11:return c.delegateYield(this[b](o,t),"t0",12);case 12:n=true;c.next=5;break;case 15:c.next=21;break;case 17:c.prev=17;c.t1=c["catch"](3);a=true;i=c.t1;case 21:c.prev=21;c.prev=22;if(!n&&s["return"]){s["return"]()}case 24:c.prev=24;if(!a){c.next=27;break}throw i;case 27:return c.finish(24);case 28:return c.finish(21);case 29:case"end":return c.stop()}},e,this,[[3,17,21,29],[22,,24,28]])})},{key:"sources",value:regeneratorRuntime.mark(function e(){var r,t,n,a,i,s,u;return regeneratorRuntime.wrap(function e(o){while(1)switch(o.prev=o.next){case 0:r=new Set;t=true;n=false;a=undefined;o.prev=4;i=this[l][Symbol.iterator]();case 6:if(t=(s=i.next()).done){o.next=15;break}u=s.value;if(!(this.hasVertex(u)&&!r.has(u))){o.next=12;break}r.add(u);o.next=12;return[u,this.vertexValue(u)];case 12:t=true;o.next=6;break;case 15:o.next=21;break;case 17:o.prev=17;o.t0=o["catch"](4);n=true;a=o.t0;case 21:o.prev=21;o.prev=22;if(!t&&i["return"]){i["return"]()}case 24:o.prev=24;if(!n){o.next=27;break}throw a;case 27:return o.finish(24);case 28:return o.finish(21);case 29:case"end":return o.stop()}},e,this,[[4,17,21,29],[22,,24,28]])})},{key:"sinks",value:regeneratorRuntime.mark(function e(){var r,t,n,a,i,s,u;return regeneratorRuntime.wrap(function e(o){while(1)switch(o.prev=o.next){case 0:r=new Set;t=true;n=false;a=undefined;o.prev=4;i=this[h][Symbol.iterator]();case 6:if(t=(s=i.next()).done){o.next=15;break}u=s.value;if(!(this.hasVertex(u)&&!r.has(u))){o.next=12;break}r.add(u);o.next=12;return[u,this.vertexValue(u)];case 12:t=true;o.next=6;break;case 15:o.next=21;break;case 17:o.prev=17;o.t0=o["catch"](4);n=true;a=o.t0;case 21:o.prev=21;o.prev=22;if(!t&&i["return"]){i["return"]()}case 24:o.prev=24;if(!n){o.next=27;break}throw a;case 27:return o.finish(24);case 28:return o.finish(21);case 29:case"end":return o.stop()}},e,this,[[4,17,21,29],[22,,24,28]])})},{key:"vertices_topologically",value:regeneratorRuntime.mark(function r(){var t,a,i,s,u,o,c,v,l,h,d,y;return regeneratorRuntime.wrap(function r(p){while(1)switch(p.prev=p.next){case 0:u=function r(u){var o,c,v,l,h,d,y,p,x;return regeneratorRuntime.wrap(function t(g){while(1)switch(g.prev=g.next){case 0:a.push(u);o=a.indexOf(u);if(!(o!==a.length-1)){g.next=5;break}c=a.slice(o+1).reverse();throw new e.CycleError(c);case 5:if(i.has(u)){g.next=36;break}v=true;l=false;h=undefined;g.prev=9;d=s.verticesTo(u)[Symbol.iterator]();case 11:if(v=(y=d.next()).done){g.next=18;break}p=n(y.value,1);x=p[0];return g.delegateYield(r(x),"t0",15);case 15:v=true;g.next=11;break;case 18:g.next=24;break;case 20:g.prev=20;g.t1=g["catch"](9);l=true;h=g.t1;case 24:g.prev=24;g.prev=25;if(!v&&d["return"]){d["return"]()}case 27:g.prev=27;if(!l){g.next=30;break}throw h;case 30:return g.finish(27);case 31:return g.finish(24);case 32:if(!s.hasVertex(u)){g.next=35;break}g.next=35;return[u,s[f].get(u)];case 35:i.add(u);case 36:a.pop();case 37:case"end":return g.stop()}},t[0],this,[[9,20,24,32],[25,,27,31]])};t=[u].map(regeneratorRuntime.mark);a=[];i=new Set;s=this;o=true;c=false;v=undefined;p.prev=8;l=this.vertices()[Symbol.iterator]();case 10:if(o=(h=l.next()).done){p.next=18;break}d=n(h.value,1);y=d[0];if(i.has(y)){p.next=15;break}return p.delegateYield(u(y),"t0",15);case 15:o=true;p.next=10;break;case 18:p.next=24;break;case 20:p.prev=20;p.t1=p["catch"](8);c=true;v=p.t1;case 24:p.prev=24;p.prev=25;if(!o&&l["return"]){l["return"]()}case 27:p.prev=27;if(!c){p.next=30;break}throw v;case 30:return p.finish(27);case 31:return p.finish(24);case 32:case"end":return p.stop()}},r,this,[[8,20,24,32],[25,,27,31]])})},{key:"clearEdges",value:function e(){var r=true;var t=false;var a=undefined;try{for(var i=this.edges()[Symbol.iterator](),s;!(r=(s=i.next()).done);r=true){var u=n(s.value,2);var o=u[0];var f=u[1];this.removeEdge(o,f)}}catch(e){t=true;a=e}finally{try{if(!r&&i["return"]){i["return"]()}}finally{if(t){throw a}}}}},{key:"clear",value:function e(){var r=true;var t=false;var a=undefined;try{for(var i=this.vertices()[Symbol.iterator](),s;!(r=(s=i.next()).done);r=true){var u=n(s.value,1);var o=u[0];this.destroyVertex(o)}}catch(e){t=true;a=e}finally{try{if(!r&&i["return"]){i["return"]()}}finally{if(t){throw a}}}}},{key:"equals",value:function r(t){var a=arguments.length<=1||arguments[1]===undefined?function(e,r){return e===r}:arguments[1];var i=arguments.length<=2||arguments[2]===undefined?a:arguments[2];return function(){if(!(t instanceof e)){return false}if(this.vertexCount()!==t.vertexCount()){return false}if(this.edgeCount()!==t.edgeCount()){return false}var r=true;var s=false;var u=undefined;try{for(var o=this.vertices()[Symbol.iterator](),f;!(r=(f=o.next()).done);r=true){var c=n(f.value,2);var v=c[0];var l=c[1];if(!t.hasVertex(v)){return false}if(!a(l,t.vertexValue(v),v)){return false}}}catch(e){s=true;u=e}finally{try{if(!r&&o["return"]){o["return"]()}}finally{if(s){throw u}}}var h=true;var d=false;var y=undefined;try{for(var p=this.edges()[Symbol.iterator](),x;!(h=(x=p.next()).done);h=true){var g=n(x.value,3);var b=g[0];var m=g[1];var l=g[2];if(!t.hasEdge(b,m)){return false}if(!i(l,t.edgeValue(b,m),b,m)){return false}}}catch(e){d=true;y=e}finally{try{if(!h&&p["return"]){p["return"]()}}finally{if(d){throw y}}}return true}.apply(this,arguments)}},{key:"cycles",value:regeneratorRuntime.mark(function e(){var r,t,a,i,u,o,f,c,v,l,h,d,y;return regeneratorRuntime.wrap(function e(p){while(1)switch(p.prev=p.next){case 0:o=function e(o){var f=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var c,v,l,h,d,y;return regeneratorRuntime.wrap(function r(p){while(1)switch(p.prev=p.next){case 0:t.push(o);i.add(o);a.push(o);c=[].concat(s(u.verticesFrom(o)));v=0;case 5:if(!(v<c.length)){p.next=23;break}l=n(c[v],1);h=l[0];if(!(h<t[0])){p.next=10;break}return p.abrupt("continue",20);case 10:if(!(h===t[0])){p.next=16;break}p.next=13;return[].concat(t);case 13:f.found=true;p.next=20;break;case 16:if(i.has(h)){p.next=20;break}d={};return p.delegateYield(e(h,d),"t0",19);case 19:f.found=f.found||d.found;case 20:v++;p.next=5;break;case 23:if(f.found){y=undefined;do{y=a.pop();i["delete"](y)}while(y!==o)}t.pop();case 25:case"end":return p.stop()}},r[0],this)};r=[o].map(regeneratorRuntime.mark);t=[];a=undefined,i=undefined;u=this;f=true;c=false;v=undefined;p.prev=8;l=this.vertices()[Symbol.iterator]();case 10:if(f=(h=l.next()).done){p.next=19;break}d=n(h.value,1);y=d[0];a=[];i=new Set;return p.delegateYield(o(y),"t0",16);case 16:f=true;p.next=10;break;case 19:p.next=25;break;case 21:p.prev=21;p.t1=p["catch"](8);c=true;v=p.t1;case 25:p.prev=25;p.prev=26;if(!f&&l["return"]){l["return"]()}case 28:p.prev=28;if(!c){p.next=31;break}throw v;case 31:return p.finish(28);case 32:return p.finish(25);case 33:case"end":return p.stop()}},e,this,[[8,21,25,33],[26,,28,32]])})},{key:"cycle",value:function e(){var r=this.cycles().next();return r.done?null:r.value}},{key:"hasCycle",value:function e(){return!this.cycles().next().done}},{key:"paths",value:function e(r,t){this[w](r,t);return this[k](r,t)}},{key:k,value:regeneratorRuntime.mark(function e(r,t){var a,i,s,u;return regeneratorRuntime.wrap(function e(o){while(1)switch(o.prev=o.next){case 0:u=function e(r){var u,o,f,c,v,l,h;return regeneratorRuntime.wrap(function a(d){while(1)switch(d.prev=d.next){case 0:i.push(r);u=true;o=false;f=undefined;d.prev=4;c=s.verticesFrom(r)[Symbol.iterator]();case 6:if(u=(v=c.next()).done){d.next=19;break}l=n(v.value,1);h=l[0];if(!(h===t)){d.next=14;break}d.next=12;return[].concat(i,[t]);case 12:d.next=16;break;case 14:if(!(i.indexOf(h)===-1)){d.next=16;break}return d.delegateYield(e(h),"t0",16);case 16:u=true;d.next=6;break;case 19:d.next=25;break;case 21:d.prev=21;d.t1=d["catch"](4);o=true;f=d.t1;case 25:d.prev=25;d.prev=26;if(!u&&c["return"]){c["return"]()}case 28:d.prev=28;if(!o){d.next=31;break}throw f;case 31:return d.finish(28);case 32:return d.finish(25);case 33:i.pop();case 34:case"end":return d.stop()}},a[0],this,[[4,21,25,33],[26,,28,32]])};a=[u].map(regeneratorRuntime.mark);i=[];s=this;return o.delegateYield(u(r),"t0",5);case 5:case"end":return o.stop()}},e,this)})},{key:"path",value:function e(r,t){var n=this.paths(r,t).next();return n.done?null:n.value}},{key:"hasPath",value:function e(r,t){return!this.paths(r,t).next().done}},{key:"outDegree",value:function e(r){this[w](r);return this[c].get(r).size}},{key:"inDegree",value:function e(r){this[w](r);return this[v].get(r).size}},{key:"degree",value:function e(r){return this.outDegree(r)+this.inDegree(r)}},{key:"mergeIn",value:function e(r,t,a){if(!t){t=function(e,r){return typeof r==="undefined"?e:r}}if(!a){a=t}var i=true;var s=false;var u=undefined;try{for(var o=r.vertices()[Symbol.iterator](),f;!(i=(f=o.next()).done);i=true){var c=n(f.value,1);var v=c[0];this.addVertex(v,t(this.vertexValue(v),r.vertexValue(v),v))}}catch(e){s=true;u=e}finally{try{if(!i&&o["return"]){o["return"]()}}finally{if(s){throw u}}}var l=true;var h=false;var d=undefined;try{for(var y=r.edges()[Symbol.iterator](),p;!(l=(p=y.next()).done);l=true){var x=n(p.value,2);var g=x[0];var b=x[1];this.addEdge(g,b,a(this.edgeValue(g,b),r.edgeValue(g,b),g,b))}}catch(e){h=true;d=e}finally{try{if(!l&&y["return"]){y["return"]()}}finally{if(h){throw d}}}}},{key:"clone",value:function r(){var t=arguments.length<=0||arguments[0]===undefined?function(e){return e}:arguments[0];var n=arguments.length<=1||arguments[1]===undefined?t:arguments[1];return function(){var r=new e;r.mergeIn(this,function(e,r,n){return t(r,n)},function(e,r,t,a){return n(r,t,a)});return r}.apply(this,arguments)}},{key:"transitiveReduction",value:function e(r,t){var a=this.clone(r,t);var i=true;var s=false;var u=undefined;try{for(var o=this.vertices()[Symbol.iterator](),f;!(i=(f=o.next()).done);i=true){var c=n(f.value,1);var v=c[0];var l=true;var h=false;var d=undefined;try{for(var y=this.vertices()[Symbol.iterator](),p;!(l=(p=y.next()).done);l=true){var x=n(p.value,1);var g=x[0];if(a.hasEdge(v,g)){var b=true;var m=false;var k=undefined;try{for(var w=this.vertices()[Symbol.iterator](),E;!(b=(E=w.next()).done);b=true){var S=n(E.value,1);var V=S[0];if(a.hasPath(g,V))a.removeEdge(v,V)}}catch(e){m=true;k=e}finally{try{if(!b&&w["return"]){w["return"]()}}finally{if(m){throw k}}}}}}catch(e){h=true;d=e}finally{try{if(!l&&y["return"]){y["return"]()}}finally{if(h){throw d}}}}}catch(e){s=true;u=e}finally{try{if(!i&&o["return"]){o["return"]()}}finally{if(s){throw u}}}return a}},{key:"contractPaths",value:function r(){var t=this;var a=arguments.length<=0||arguments[0]===undefined?function(){return false}:arguments[0];var i=new Set([].concat(s(this.vertices())).filter(function(e){var r=n(e,2);var i=r[0];var s=r[1];return t.outDegree(i)!==1||t.inDegree(i)!==1||a(i,s)}).map(function(e){var r=n(e,1);var t=r[0];return t}));{var u;var o;var f;var c,v;(function(){var r=new Set([].concat(s(t.vertices())).map(function(e){var r=n(e,1);var t=r[0];return t}));var a=function e(a){if(!r.has(a)){return}r["delete"](a);var i=true;var s=false;var u=undefined;try{for(var o=t.verticesFrom(a)[Symbol.iterator](),f;!(i=(f=o.next()).done);i=true){var c=n(f.value,1);var v=c[0];e(v)}}catch(e){s=true;u=e}finally{try{if(!i&&o["return"]){o["return"]()}}finally{if(s){throw u}}}var l=true;var h=false;var d=undefined;try{for(var y=t.verticesTo(a)[Symbol.iterator](),p;!(l=(p=y.next()).done);l=true){var x=n(p.value,1);var v=x[0];e(v)}}catch(e){h=true;d=e}finally{try{if(!l&&y["return"]){y["return"]()}}finally{if(h){throw d}}}};u=true;o=false;f=undefined;try{for(c=i[Symbol.iterator]();!(u=(v=c.next()).done);u=true){var l=v.value;a(l)}}catch(e){o=true;f=e}finally{try{if(!u&&c["return"]){c["return"]()}}finally{if(o){throw f}}}if(r.size>0){var h=r.values().next().value,d=[],y=h;do{d.push(y);y=t.verticesFrom(y).next().value[0]}while(y!==h);throw new e.BranchlessCycleError(d)}})()}var l=new Map;var h=function r(n,a,u){var o=function e(){var r=arguments.length<=0||arguments[0]===undefined?n:arguments[0];var t=arguments.length<=1||arguments[1]===undefined?a:arguments[1];return u?[t,r]:[r,t]};var f=function e(r){return u?t.verticesTo(r):t.verticesFrom(r)};var c=new Set;var v=new Set;var h=new e;h.addVertex(n,t.vertexValue(n));h.addVertex(a,t.vertexValue(a));h.addNewEdge.apply(h,s(o()).concat([t.edgeValue.apply(t,s(o()))]));v.add(o());var d=undefined;while(!i.has(a)){var y=[a,f(a).next().value[0]];d=y[0];a=y[1];h.addVertex(a,t.vertexValue(a));h.addNewEdge.apply(h,s(o(d,a)).concat([t.edgeValue.apply(t,s(o(d,a)))]));c.add(d);v.add(o(d,a))}if(!l.get(o()[0])){l.set(o()[0],new Map)}if(!l.get(o()[0]).get(o()[1])){l.get(o()[0]).set(o()[1],new e)}l.get(o()[0]).get(o()[1]).mergeIn(h);var p=true;var x=false;var g=undefined;try{for(var b=v[Symbol.iterator](),m;!(p=(m=b.next()).done);p=true){var k=m.value;t.removeExistingEdge.apply(t,s(k))}}catch(e){x=true;g=e}finally{try{if(!p&&b["return"]){b["return"]()}}finally{if(x){throw g}}}var w=true;var E=false;var S=undefined;try{for(var V=c[Symbol.iterator](),O;!(w=(O=V.next()).done);w=true){var k=O.value;t.destroyExistingVertex(k)}}catch(e){E=true;S=e}finally{try{if(!w&&V["return"]){V["return"]()}}finally{if(E){throw S}}}};var d=true;var y=false;var p=undefined;try{for(var x=i[Symbol.iterator](),g;!(d=(g=x.next()).done);d=true){var b=g.value;var m=true;var k=false;var w=undefined;try{for(var E=this.verticesFrom(b)[Symbol.iterator](),S;!(m=(S=E.next()).done);m=true){var V=n(S.value,1);var O=V[0];h(b,O,false)}}catch(e){k=true;w=e}finally{try{if(!m&&E["return"]){E["return"]()}}finally{if(k){throw w}}}var R=true;var j=false;var N=undefined;try{for(var A=this.verticesTo(b)[Symbol.iterator](),T;!(R=(T=A.next()).done);R=true){var P=n(T.value,1);var O=P[0];h(b,O,true)}}catch(e){j=true;N=e}finally{try{if(!R&&A["return"]){A["return"]()}}finally{if(j){throw N}}}}}catch(e){y=true;p=e}finally{try{if(!d&&x["return"]){x["return"]()}}finally{if(y){throw p}}}var C=true;var F=false;var z=undefined;try{for(var D=l[Symbol.iterator](),M;!(C=(M=D.next()).done);C=true){var Y=n(M.value,2);var _=Y[0];var I=Y[1];var J=true;var B=false;var G=undefined;try{for(var H=I[Symbol.iterator](),W;!(J=(W=H.next()).done);J=true){var q=n(W.value,2);var K=q[0];var L=q[1];this.addNewEdge(_,K,L)}}catch(e){B=true;G=e}finally{try{if(!J&&H["return"]){H["return"]()}}finally{if(B){throw G}}}}}catch(e){F=true;z=e}finally{try{if(!C&&D["return"]){D["return"]()}}finally{if(F){throw z}}}}},{key:"toJSON",value:function e(){var r=[];var t=true;var a=false;var i=undefined;try{for(var s=this.vertices()[Symbol.iterator](),u;!(t=(u=s.next()).done);t=true){var o=n(u.value,2);var f=o[0];var c=o[1];if(typeof c==="undefined"){r.push([f])}else{r.push([f,c])}}}catch(e){a=true;i=e}finally{try{if(!t&&s["return"]){s["return"]()}}finally{if(a){throw i}}}var v=true;var l=false;var h=undefined;try{for(var d=this.edges()[Symbol.iterator](),y;!(v=(y=d.next()).done);v=true){var p=n(y.value,3);var x=p[0];var g=p[1];var c=p[2];if(typeof c==="undefined"){r.push([[x,g]])}else{r.push([[x,g],c])}}}catch(e){l=true;h=e}finally{try{if(!v&&d["return"]){d["return"]()}}finally{if(l){throw h}}}return JSON.stringify(r)}},{key:w,value:function r(){var n=this;for(var a=arguments.length,i=Array(a),u=0;u<a;u++){i[u]=arguments[u]}var o=i.filter(function(e){return!n.hasVertex(e)});if(o.length){throw new(t.apply(e.VertexNotExistsError,[null].concat(s(o))))}}},{key:E,value:function r(){var n=this;for(var a=arguments.length,i=Array(a),u=0;u<a;u++){i[u]=arguments[u]}var o=i.filter(function(e){return n.hasVertex(e)});if(o.length){throw new(t.apply(e.VertexExistsError,[null].concat(s(o.map(function(e){return[e,n.vertexValue(e)]})))))}}},{key:S,value:function r(){var n=this;for(var a=arguments.length,i=Array(a),u=0;u<a;u++){i[u]=arguments[u]}var o=i.filter(function(e){return!n.hasEdge.apply(n,s(e))});if(o.length){throw new(t.apply(e.EdgeNotExistsError,[null].concat(s(o))))}}},{key:V,value:function r(){var n=this;for(var a=arguments.length,i=Array(a),u=0;u<a;u++){i[u]=arguments[u]}var o=i.filter(function(e){return n.hasEdge.apply(n,s(e))});if(o.length){throw new(t.apply(e.EdgeExistsError,[null].concat(s(o.map(function(e){return[e,n.edgeValue.apply(n,s(e))]})))))}}},{key:O,value:function r(a){var i=[];var s=true;var u=false;var o=undefined;try{for(var f=this.verticesFrom(a)[Symbol.iterator](),c;!(s=(c=f.next()).done);s=true){var v=n(c.value,1);var l=v[0];i.push([[a,l],this.edgeValue(a,l)])}}catch(e){u=true;o=e}finally{try{if(!s&&f["return"]){f["return"]()}}finally{if(u){throw o}}}var h=true;var d=false;var y=undefined;try{for(var p=this.verticesTo(a)[Symbol.iterator](),x;!(h=(x=p.next()).done);h=true){var g=n(x.value,1);var b=g[0];i.push([[b,a],this.edgeValue(b,a)])}}catch(e){d=true;y=e}finally{try{if(!h&&p["return"]){p["return"]()}}finally{if(d){throw y}}}if(i.length){throw new(t.apply(e.HasConnectedEdgesError,[null].concat([a],i)))}}}],[{key:"fromJSON",value:function e(r){return new(t.apply(this,[null].concat(s(JSON.parse(r)))))}}]);return e}();R.VertexExistsError=function(e){u(r,e);function r(){o(this,r);a(Object.getPrototypeOf(r.prototype),"constructor",this).call(this);for(var e=arguments.length,t=Array(e),i=0;i<e;i++){t[i]=arguments[i]}this.vertices=new Set(t);this.message="This graph has "+(this.vertices.size===1?"a vertex":"vertices")+" '"+[].concat(s(this.vertices)).map(function(e){var r=n(e,1);var t=r[0];return t}).join("', '")+"'"}return r}(Error);R.VertexNotExistsError=function(e){u(r,e);function r(){o(this,r);a(Object.getPrototypeOf(r.prototype),"constructor",this).call(this);for(var e=arguments.length,t=Array(e),n=0;n<e;n++){t[n]=arguments[n]}this.vertices=new Set(t);this.message="This graph does not have "+(this.vertices.size===1?"a vertex":"vertices")+" '"+[].concat(s(this.vertices)).join("', '")+"'"}return r}(Error);R.EdgeExistsError=function(e){u(r,e);function r(){o(this,r);a(Object.getPrototypeOf(r.prototype),"constructor",this).call(this);for(var e=arguments.length,t=Array(e),i=0;i<e;i++){t[i]=arguments[i]}this.edges=new Set(t);this.message="This graph has "+(this.edges.size===1?"an edge":"edges")+" "+[].concat(s(this.edges)).map(function(e){var r=n(e,1);var t=n(r[0],2);var a=t[0];var i=t[1];return"['"+a+"', '"+i+"']"}).join(", ")}return r}(Error);R.EdgeNotExistsError=function(e){u(r,e);function r(){o(this,r);a(Object.getPrototypeOf(r.prototype),"constructor",this).call(this);for(var e=arguments.length,t=Array(e),i=0;i<e;i++){t[i]=arguments[i]}this.edges=new Set(t);this.message="This graph does not have "+(this.edges.size===1?"an edge":"edges")+" "+[].concat(s(this.edges)).map(function(e){var r=n(e,2);var t=r[0];var a=r[1];return"['"+t+"', '"+a+"']"}).join(", ")}return r}(Error);R.HasConnectedEdgesError=function(e){u(r,e);function r(e){o(this,r);for(var t=arguments.length,i=Array(t>1?t-1:0),u=1;u<t;u++){i[u-1]=arguments[u]}a(Object.getPrototypeOf(r.prototype),"constructor",this).apply(this,i);this.vertex=e;this.message="The '"+e+"' vertex has connected "+(this.edges.size===1?"an edge":"edges")+" "+[].concat(s(this.edges)).map(function(e){var r=n(e,1);var t=n(r[0],2);var a=t[0];var i=t[1];return"['"+a+"', '"+i+"']"}).join(", ")}return r}(R.EdgeExistsError);R.CycleError=function(e){u(r,e);function r(e){o(this,r);a(Object.getPrototypeOf(r.prototype),"constructor",this).call(this);this.cycle=e;this.message="This graph contains a cycle: "+e}return r}(Error);R.BranchlessCycleError=function(e){u(r,e);function r(e){o(this,r);a(Object.getPrototypeOf(r.prototype),"constructor",this).call(this,e);this.message="This graph contains a branch-less cycle: "+e}return r}(R.CycleError);e.exports=R}})});
//# sourceMappingURL=dist/graph.min.js.map