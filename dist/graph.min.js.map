{"version":3,"file":"graph.js","sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///webpack/bootstrap 95af72bb52ebe06baaa4?4da4","webpack:///./src/graph.es6.js?8eb6"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","id","loaded","modules","call","m","c","p","_vertices","Symbol","_edges","_reverseEdges","_sources","_sinks","_edgeCount","_verticesFrom","_verticesTo","_paths","_expectVertices","_expectVertexAbsent","_expectEdge","_expectEdgeAbsent","_expectNoConnectedEdges","Graph","parts","Array","_len","_key","arguments","Map","Set","_iterator","iterator","_step","_iteratorNormalCompletion","next","done","key","_step$value","value","isArray","from","_key2","to","createEdge","addVertex","addNewVertex","set","add","setVertex","ensureVertex","hasVertex","removeExistingVertex","destroyExistingVertex","_iterator2","verticesFrom","_step2","_iteratorNormalCompletion2","_step2$value","removeEdge","_iterator3","verticesTo","_step3","_iteratorNormalCompletion3","_step3$value","removeVertex","destroyVertex","vertexCount","size","has","vertexValue","get","addNewEdge","createNewEdge","setEdge","spanEdge","hasEdge","addEdge","ensureEdge","removeExistingEdge","inDegree","outDegree","edgeCount","edgeValue","undefined","vertices","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_iterator4","_step4","_step4$value","edges","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_iterator5","_step5","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_iterator6","_step6","keys","callee$1$0","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_iterator7","_step7","callee$1$1","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_iterator8","_step8","verticesWithPathFrom","_verticesWithPathFrom","_step9","verticesWithPathTo","_verticesWithPathTo","_step10","sources","_iteratorNormalCompletion11","_didIteratorError11","_iteratorError11","_iterator11","_step11","sinks","_iteratorNormalCompletion12","_didIteratorError12","_iteratorError12","_iterator12","_step12","vertices_topologically","visited","handled","_this","visit","_iteratorNormalCompletion14","_didIteratorError14","_iteratorError14","_iterator14","_step14","_step14$value","a","i","cycle","_iteratorNormalCompletion13","_didIteratorError13","_iteratorError13","_iterator13","_step13","_step13$value","b","push","indexOf","length","slice","reverse","CycleError","pop","map","regeneratorRuntime","mark","clearEdges","_iterator15","_step15","_iteratorNormalCompletion15","_step15$value","clear","_iterator16","_step16","_iteratorNormalCompletion16","v","_step16$value","equals","other","eqV","x","y","eqE","_iterator17","_step17","_iteratorNormalCompletion17","_step17$value","_iterator18","_step18","_iteratorNormalCompletion18","_step18$value","apply","cycles","pointStack","markedStack","backtrack","_iteratorNormalCompletion19","_didIteratorError19","_iteratorError19","_iterator19","_step19","_step19$value","out","w","o","u","_arr$_i","found","result","hasCycle","paths","callee$1$2","stack","pathsFromPrefix","current","_step20$value","path","hasPath","degree","mergeIn","mV","mE","v1","v2","_iterator21","_step21","_iteratorNormalCompletion21","_step21$value","_iterator22","_step22","_iteratorNormalCompletion22","_step22$value","clone","trV","trE","transitiveReduction","_iterator23","_step23","_iteratorNormalCompletion23","_step23$value","_iterator24","_step24","_iteratorNormalCompletion24","_step24$value","_iterator25","_step25","_iteratorNormalCompletion25","z","_step25$value","contractPaths","isNexus","nexuses","concat","_toConsumableArray","filter","_ref","_ref2","val","_this2","_ref3","_ref32","unhandledVertices","_ref4","_ref42","checkForBlCycle","_iterator26","_step26","_iteratorNormalCompletion26","_step26$value","_iterator27","_step27","_iteratorNormalCompletion27","_step27$value","_iterator28","_iteratorNormalCompletion28","_step28","startingKey","values","BranchlessCycleError","contractionsToAdd","startPath","start","backwards","fromTo","strt","nxt","verticesNext","verticesToRemove","edgesToRemove","_ref5","_iterator29","_step29","_iteratorNormalCompletion29","_iterator30","_step30","_iteratorNormalCompletion30","_iterator31","_step31","_iteratorNormalCompletion31","first","_iterator33","_step33","_iteratorNormalCompletion33","_step33$value","_iterator34","_step34","_iteratorNormalCompletion34","_step34$value","_iterator32","_step32","_iteratorNormalCompletion32","_step32$value","toVal","_iterator35","_step35","_iteratorNormalCompletion35","_step35$value","rememberedPath","key1","key2","VertexNotExistsError","VertexExistsError","_ref6","_ref62","EdgeNotExistsError","_ref7","_ref72","EdgeExistsError","_iterator36","_step36","_iteratorNormalCompletion36","_step36$value","_iterator37","_step37","_iteratorNormalCompletion37","_step37$value","HasConnectedEdgesError","_Error","_get","Object","getPrototypeOf","prototype","message","_ref8","_ref82","join","Error","_Error2","VertexNotExistError","_Error3","_ref9","_ref92$0","_Error4","_ref10","_ref102","_Graph$EdgeExistsError","vertex","_ref11","_ref112$0","_Error5","_Graph$CycleError"],"mappings":"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","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Graph\"] = factory();\n\telse\n\t\troot[\"Graph\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 95af72bb52ebe06baaa4\n **/","'use strict';\n\n//  ////////////////////////////////////////////////////////////////////////////////////////////////\n//  // Symbols for private members /////////////////////////////////////////////////////////////////\n//  ////////////////////////////////////////////////////////////////////////////////////////////////\n\nconst _vertices     = Symbol(\"vertices\");\nconst _edges        = Symbol(\"edges\");\nconst _reverseEdges = Symbol(\"reverse edges\");\nconst _sources      = Symbol(\"sources\");\nconst _sinks        = Symbol(\"sinks\");\nconst _edgeCount    = Symbol(\"edge count\");\n\nconst _verticesFrom = Symbol(\"vertices from\");\nconst _verticesTo   = Symbol(\"vertices to\");\nconst _paths        = Symbol(\"paths\");\n\nconst _expectVertices         = Symbol(\"expect vertices\");\nconst _expectVertexAbsent     = Symbol(\"expect vertex absent\");\nconst _expectEdge             = Symbol(\"expect edge\");\nconst _expectEdgeAbsent       = Symbol(\"expect edge absent\");\nconst _expectNoConnectedEdges = Symbol(\"expect no connected edges\");\n\n\n//  ////////////////////////////////////////////////////////////////////////////////////////////////\n//  // Graph class /////////////////////////////////////////////////////////////////////////////////\n//  ////////////////////////////////////////////////////////////////////////////////////////////////\n\n/**\n * @class Graph\n * @classdesc The main class of this library, to be used for representing a mathematical (di)graph.\n *\n * @description Constructor arguments can be used to supply initial vertices and edges.\n * @param ...parts {Array.<Array>}\n *        a short notation for vertices and edges to initially add to the graph;\n *        A vertex should be an array of the form `[key, value]`.\n *        An edge should be an array of the form `[[from, to], value]`.\n *        Later values of vertices or edges in this list will overwrite earlier\n *        values, but vertices need not precede their edges. Vertices that are\n *        connected but store no value need not be listed at all.\n * @example\n * var map = new Graph(\n *     ['Amsterdam',             { population: 825000 }], // vertex\n *     ['Leiden',                { population: 122000 }], // vertex\n *     [['Amsterdam', 'Leiden'], { distance:   \"40km\" }]  // edge\n * );\n */\nexport default class Graph {\n\n\tconstructor(...parts) {\n\t\t/* storage */\n\t\tthis[_vertices]     = new Map(); // Map.< string, * >\n\t\tthis[_edges]        = new Map(); // Map.< string, Map.<string, *> >\n\n\t\t/* bookkeeping */\n\t\tthis[_reverseEdges] = new Map(); // Map.< string, Set.<*> >\n\t\tthis[_sources]      = new Set(); // Set.< string >\n\t\tthis[_sinks]        = new Set(); // Set.< string >\n\t\tthis[_edgeCount]    = 0;\n\n\t\t/* add vertices and values from constructor arguments */\n\t\tfor (let [key, value] of parts) {\n\t\t\tif (Array.isArray(key)) {/////////////// an edge\n\t\t\t\tlet [from, to] = key;\n\t\t\t\tthis.createEdge(from, to, value);\n\t\t\t} else {//////////////////////////////// a vertex\n\t\t\t\tthis.addVertex(key, value);\n\t\t\t}\n\t\t}\n\t}\n\n\n\t//////////////////////////////\n\t////////// Vertices //////////\n\t//////////////////////////////\n\n\t////////// creating them //////////\n\n\t/**\n\t * Add a new vertex to this graph.\n\t * @throws {Graph.VertexExistsError} if a vertex with this key already exists\n\t * @param  key    {string} the key with which to refer to this new vertex\n\t * @param [value] {*}      the value to store in this new vertex\n\t */\n\taddNewVertex(key, value) {\n\t\tthis[_expectVertexAbsent](key);\n\t\tthis[_vertices].set(key, value);\n\t\tthis[_edges].set(key, new Map());\n\t\tthis[_reverseEdges].set(key, new Set());\n\t\tthis[_sources].add(key);\n\t\tthis[_sinks].add(key);\n\t}\n\n\t/**\n\t * Set the value of an existing vertex in this graph.\n\t * @throws {Graph.VertexNotExistsError} if a vertex with this key does not exist\n\t * @param  key    {string} the key belonging to the vertex\n\t * @param [value] {*}      the value to store in this vertex\n\t */\n\tsetVertex(key, value) {\n\t\tthis[_expectVertices](key);\n\t\tthis[_vertices].set(key, value);\n\t}\n\n\t/**\n\t * Make sure a vertex with a specific key exists in this graph. If it already exists,\n\t * do nothing. If it does not yet exist, add a new vertex with the given value.\n\t * @param  key    {string} the key for the vertex\n\t * @param [value] {*}      the value to store if a new vertex is added\n\t */\n\tensureVertex(key, value) {\n\t\tif (!this.hasVertex(key)) {\n\t\t\tthis.addNewVertex(key, value);\n\t\t}\n\t}\n\n\t/**\n\t * Add a new vertex to this graph. If a vertex with this key already exists,\n\t * the value of that vertex is overwritten.\n\t * @param  key    {string} the key with which to refer to this new vertex\n\t * @param [value] {*}      the value to store in this new vertex\n\t */\n\taddVertex(key, value) {\n\t\tif (this.hasVertex(key)) {\n\t\t\tthis.setVertex(key, value);\n\t\t} else {\n\t\t\tthis.addNewVertex(key, value);\n\t\t}\n\t}\n\n\n\t////////// removing them //////////\n\n\t/**\n\t * Remove an existing vertex from this graph.\n\t * @throws {Graph.VertexNotExistsError} if a vertex with this key does not exist\n\t * @throws {Graph.HasConnectedEdgesError} if there are still edges connected to this vertex\n\t * @param key {string} the key of the vertex to remove\n\t */\n\tremoveExistingVertex(key) {\n\t\tthis[_expectVertices](key);\n\t\tthis[_expectNoConnectedEdges](key);\n\t\tthis[_vertices].delete(key);\n\t\tthis[_sources].delete(key);\n\t\tthis[_sinks].delete(key);\n\t}\n\n\t/**\n\t * Remove an existing vertex from this graph, as well as all edges connected to it.\n\t * @throws {Graph.VertexNotExistsError} if a vertex with this key does not exist\n\t * @param key {string} the key of the vertex to remove\n\t */\n\tdestroyExistingVertex(key) {\n\t\tthis[_expectVertices](key);\n\t\tfor (let [to] of this.verticesFrom(key)) {\n\t\t\tthis.removeEdge(key, to);\n\t\t}\n\t\tfor (let [from] of this.verticesTo(key)) {\n\t\t\tthis.removeEdge(from, key);\n\t\t}\n\t\tthis.removeExistingVertex(key);\n\t}\n\n\t/**\n\t * Remove an existing vertex from this graph.\n\t * If a vertex with this key does not exist, nothing happens.\n\t * @throws {Graph.HasConnectedEdgesError} if there are still edges connected to this vertex\n\t * @param key {string} the key of the vertex to remove\n\t */\n\tremoveVertex(key) {\n\t\tif (this.hasVertex(key)) {\n\t\t\tthis.removeExistingVertex(key);\n\t\t}\n\t}\n\n\t/**\n\t * Remove a vertex from this graph, as well as all edges connected to it.\n\t * If a vertex with this key does not exist, nothing happens.\n\t * @param key {string} the key of the vertex to remove\n\t */\n\tdestroyVertex(key) {\n\t\tif (this.hasVertex(key)) {\n\t\t\tthis.destroyExistingVertex(key);\n\t\t}\n\t}\n\n\n\t////////// querying them //////////\n\n\t/**\n\t * @returns {number} the number of vertices in the whole graph\n\t */\n\tvertexCount() { return this[_vertices].size }\n\n\t/**\n\t * Ask whether a vertex with a given key exists.\n\t * @param key {string} the key to query\n\t * @returns {boolean} whether there is a vertex with the given key\n\t */\n\thasVertex(key) { return this[_vertices].has(key) }\n\n\t/**\n\t * Get the value associated with the vertex of a given key.\n\t * @param key {string} the key to query\n\t * @returns {*} the value associated with the vertex of the given key.\n\t * Note that a return value of `undefined` can mean\n\t *\n\t * 1. that there is no such vertex, or\n\t * 2. that the stored value is actually `undefined`.\n\t *\n\t * Use {@link Graph#hasVertex} to distinguish these cases.\n\t */\n\tvertexValue(key) { return this[_vertices].get(key) }\n\n\n\t///////////////////////////\n\t////////// Edges //////////\n\t///////////////////////////\n\n\t////////// adding them //////////\n\n\t/**\n\t * Add a new edge to this graph.\n\t * @throws {Graph.EdgeExistsError} if an edge between `from` and `to` already exists\n\t * @throws {Graph.VertexNotExistsError} if the `from` and/or `to` vertices do not yet exist in the graph\n\t * @param  from   {string} the key for the originating vertex\n\t * @param  to     {string} the key for the terminating vertex\n\t * @param [value] {*}      the value to store in this new edge\n\t */\n\taddNewEdge(from, to, value) {\n\t\tthis[_expectEdgeAbsent]([from, to]);\n\t\tthis[_expectVertices](from, to);\n\t\tthis[_edges].get(from).set(to, value);\n\t\tthis[_reverseEdges].get(to).add(from);\n\t\tthis[_edgeCount] += 1;\n\t\tthis[_sources].delete(to);\n\t\tthis[_sinks].delete(from);\n\t}\n\n\t/**\n\t * Add a new edge to this graph. If the `from` and/or `to` vertices do not yet exist\n\t * in the graph, they are implicitly added with an `undefined` value.\n\t * @throws {Graph.EdgeExistsError} if an edge between `from` and `to` already exists\n\t * @param  from   {string} the key for the originating vertex\n\t * @param  to     {string} the key for the terminating vertex\n\t * @param [value] {*}      the value to store in this new edge\n\t */\n\tcreateNewEdge(from, to, value) {\n\t\tthis[_expectEdgeAbsent]([from, to]);\n\t\tthis.ensureVertex(from);\n\t\tthis.ensureVertex(to);\n\t\tthis.addNewEdge(from, to, value);\n\t}\n\n\t/**\n\t * Set the value of an existing edge in this graph.\n\t * @throws {Graph.EdgeNotExistsError} if an edge between `from` and `to` does not yet exist\n\t * @param  from   {string} the key for the originating vertex\n\t * @param  to     {string} the key for the terminating vertex\n\t * @param [value] {*}      the value to store in this edge\n\t */\n\tsetEdge(from, to, value) {\n\t\tthis[_expectEdge]([from, to]);\n\t\tthis[_edges].get(from).set(to, value);\n\t}\n\n\t/**\n\t * Make sure an edge between the `from` and `to` vertices in this graph.\n\t * If one already exists, nothing is done.\n\t * If one does not yet exist, a new edge is added with the given value.\n\t * @throws {Graph.VertexNotExistsError} if the `from` and/or `to` vertices do not yet exist in the graph\n\t * @param  from   {string} the key for the originating vertex\n\t * @param  to     {string} the key for the terminating vertex\n\t * @param [value] {*}      the value to store if a new edge is added\n\t */\n\tspanEdge(from, to, value) {\n\t\tthis[_expectVertices](from, to);\n\t\tif (!this.hasEdge(from, to)) {\n\t\t\tthis.addNewEdge(from, to, value);\n\t\t}\n\t}\n\n\t/**\n\t * Add a new edge to this graph. If an edge between `from` and `to` already exists,\n\t * the value of that edge is overwritten.\n\t * @throws {Graph.VertexNotExistsError} if the `from` and/or `to` vertices do not yet exist in the graph\n\t * @param  from   {string} the key for the originating vertex\n\t * @param  to     {string} the key for the terminating vertex\n\t * @param [value] {*}      the value to store in this new edge\n\t */\n\taddEdge(from, to, value) {\n\t\tif (this.hasEdge(from, to)) {\n\t\t\tthis.setEdge(from, to, value);\n\t\t} else {\n\t\t\tthis.addNewEdge(from, to, value);\n\t\t}\n\t}\n\n\t/**\n\t * Make sure an edge between the `from` and `to` vertices exists in this graph.\n\t * If it already exists, nothing is done.\n\t * If it does not yet exist, a new edge is added with the given value.\n\t * If the `from` and/or `to` vertices do not yet exist\n\t * in the graph, they are implicitly added with an `undefined` value.\n\t * @param  from   {string} the key for the originating vertex\n\t * @param  to     {string} the key for the terminating vertex\n\t * @param [value] {*}      the value to store if a new edge is added\n\t */\n\tensureEdge(from, to, value) {\n\t\tif (!this.hasEdge(from, to)) {\n\t\t\tthis.createNewEdge(from, to, value);\n\t\t}\n\t}\n\n\t/**\n\t * Add a new edge to this graph. If an edge between the `from` and `to`\n\t * vertices already exists, the value of that edge is overwritten.\n\t * If the `from` and/or `to` vertices do not yet exist\n\t * in the graph, they are implicitly added with an `undefined` value.\n\t * @param  from   {string} the key for the originating vertex\n\t * @param  to     {string} the key for the terminating vertex\n\t * @param [value] {*}      the value to store if a new edge is added\n\t */\n\tcreateEdge(from, to, value) {\n\t\tif (this.hasEdge(from, to)) {\n\t\t\tthis.setEdge(from, to, value);\n\t\t} else {\n\t\t\tthis.createNewEdge(from, to, value);\n\t\t}\n\t}\n\n\n\t////////// removing them //////////\n\n\t/**\n\t * Remove an existing edge from this graph.\n\t * @throws {Graph.EdgeNotExistsError} if an edge between the `from` and `to` vertices doesn't exist\n\t * @param from {string} the key for the originating vertex\n\t * @param to   {string} the key for the terminating vertex\n\t */\n\tremoveExistingEdge(from, to) {\n\t\tthis[_expectEdge]([from, to]);\n\t\tthis[_edges].get(from).delete(to);\n\t\tthis[_reverseEdges].get(to).delete(from);\n\t\tthis[_edgeCount] -= 1;\n\t\tif (this. inDegree(to)   === 0) { this[_sources].add(to) }\n\t\tif (this.outDegree(from) === 0) { this[_sinks].add(from) }\n\t}\n\n\t/**\n\t * Remove an edge from this graph.\n\t * If an edge between the `from` and `to` vertices doesn't exist, nothing happens.\n\t * @param from {string} the key for the originating vertex\n\t * @param to   {string} the key for the terminating vertex\n\t */\n\tremoveEdge(from, to) {\n\t\tif (this.hasEdge(from, to)) {\n\t\t\tthis.removeExistingEdge(from, to);\n\t\t}\n\t}\n\n\n\t////////// querying them //////////\n\n\t/**\n\t * @returns {number} the number of edges in the whole graph\n\t */\n\tedgeCount() { return this[_edgeCount] }\n\n\t/**\n\t * Ask whether an edge between given `from` and `to` vertices exist.\n\t * @param from {string} the key for the originating vertex\n\t * @param to   {string} the key for the terminating vertex\n\t * @returns {boolean} whether there is an edge between the given `from` and `to` vertices\n\t */\n\thasEdge(from, to) {\n\t\treturn this.hasVertex(from) &&\n\t\t\tthis.hasVertex(to) &&\n\t\t\tthis[_edges].has(from) &&\n\t\t\tthis[_edges].get(from).has(to);\n\t}\n\n\t/**\n\t * Get the value associated with the edge between given `from` and `to` vertices.\n\t * @param from {string} the key for the originating vertex\n\t * @param to   {string} the key for the terminating vertex\n\t * @returns {*} the value associated with the edge between the given `from` and `to` vertices\n\t * Note that a return value of `undefined` can mean\n\t *\n\t * 1. that there is no such edge, or\n\t * 2. that the stored value is actually `undefined`.\n\t *\n\t * Use {@link Graph#hasEdge} to distinguish these cases.\n\t */\n\tedgeValue(from, to) {\n\t\treturn this.hasEdge(from, to) ? this[_edges].get(from).get(to) : undefined;\n\t}\n\n\n\t///////////////////////////////////////////////\n\t//////////// ES6 Iterable interfaces //////////\n\t///////////////////////////////////////////////\n\n\t/**\n\t * Iterate over all vertices of the graph, in no particular order.\n\t * @returns { Iterator.<string, *> } an object conforming to the {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterator_protocol|ES6 iterator protocol}\n\t * @example\n\t * for (var it = graph.vertices(), kv; !(kv = it.next()).done;) {\n\t *     var key   = kv.value[0],\n\t *         value = kv.value[1];\n\t *     // iterates over all vertices of the graph\n\t * }\n\t * @example\n\t * // in ECMAScript 6, you can use a for..of loop\n\t * for (let [key, value] of graph.vertices()) {\n\t *     // iterates over all vertices of the graph\n\t * }\n\t * @see {@link Graph#@@iterator}\n\t */\n\t*vertices() {\n\t\tlet done = new Set();\n\t\tfor (let [key, value] of this[_vertices]) {\n\t\t\tif (this.hasVertex(key) && !done.has(key)) {\n\t\t\t\tdone.add(key);\n\t\t\t\tyield [key, value];\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * A {@link Graph} object is itself {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterable_protocol|iterable},\n\t * and serves as a short notation in ECMAScript 6 to iterate over all vertices in the graph, in no particular order.\n\t * @method Graph#@@iterator\n\t * @returns { Iterator.<string, *> } an object conforming to the {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterator_protocol|ES6 iterator protocol}\n\t * @example\n\t * for (let [key, value] of graph) {\n\t *     // iterates over all vertices of the graph\n\t * }\n\t * @see {@link Graph#vertices}\n\t */\n\t[Symbol.iterator]() { return this.vertices() }\n\n\t/**\n\t * Iterate over all edges of the graph, in no particular order.\n\t * @returns { Iterator.<string, string, *> } an object conforming to the {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterator_protocol|ES6 iterator protocol}\n\t * @example\n\t * for (var it = graph.edges(), kv; !(kv = it.next()).done;) {\n\t *     var from  = kv.value[0],\n\t *         to    = kv.value[1],\n\t *         value = kv.value[2];\n\t *     // iterates over all edges of the graph\n\t * }\n\t * @example\n\t * // in ECMAScript 6, you can use a for..of loop\n\t * for (let [from, to, value] of graph.edges()) {\n\t *     // iterates over all vertices of the graph\n\t * }\n\t */\n\t*edges() {\n\t\tlet done = new Map();\n\t\tfor (let from of this[_edges].keys()) {\n\t\t\tdone.set(from, new Set());\n\t\t\tfor (let to of this[_edges].get(from).keys()) {\n\t\t\t\tif (this.hasEdge(from, to) && !done.get(from).has(to)) {\n\t\t\t\t\tdone.get(from).add(to);\n\t\t\t\t\tyield [from, to, this[_edges].get(from).get(to)];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Iterate over the outgoing edges of a given vertex in the graph, in no particular order.\n\t * @throws {Graph.VertexNotExistsError} if a vertex with the given `from` key does not exist\n\t * @param from {string} the key of the vertex to take the outgoing edges from\n\t * @returns { Iterator.<string, *, *> } an object conforming to the {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterator_protocol|ES6 iterator protocol}\n\t * @example\n\t * for (var it = graph.verticesFrom(from), kv; !(kv = it.next()).done;) {\n\t *     var to          = kv.value[0],\n\t *         vertexValue = kv.value[1],\n\t *         edgeValue   = kv.value[2];\n\t *     // iterates over all outgoing vertices of the `from` vertex\n\t * }\n\t * @example\n\t * // in ECMAScript 6, you can use a for..of loop\n\t * for (let [to, vertexValue, edgeValue] of graph.verticesFrom(from)) {\n\t *     // iterates over all outgoing edges of the `from` vertex\n\t * }\n\t */\n\tverticesFrom(from) {\n\t\tthis[_expectVertices](from);\n\t\treturn this[_verticesFrom](from);\n\t}\n\t*[_verticesFrom](from) {\n\t\tlet done = new Set();\n\t\tfor (let to of this[_edges].get(from).keys()) {\n\t\t\tif (this.hasEdge(from, to) && !done.has(to)) {\n\t\t\t\tdone.add(to);\n\t\t\t\tyield [to, this[_vertices].get(to), this[_edges].get(from).get(to)];\n\t\t\t}\n\t\t}\n\t}\n\n\n\t/**\n\t * Iterate over the incoming edges of a given vertex in the graph, in no particular order.\n\t * @throws {Graph.VertexNotExistsError} if a vertex with the given `to` key does not exist\n\t * @param to {string} the key of the vertex to take the incoming edges from\n\t * @returns { Iterator.<string, *, *> } an object conforming to the {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterator_protocol|ES6 iterator protocol}\n\t * @example\n\t * for (var it = graph.verticesTo(to), kv; !(kv = it.next()).done;) {\n\t *     var from        = kv.value[0],\n\t *         vertexValue = kv.value[1],\n\t *         edgeValue   = kv.value[2];\n\t *     // iterates over all outgoing vertices of the `from` vertex\n\t * }\n\t * @example\n\t * // in ECMAScript 6, you can use a for..of loop\n\t * for (let [from, vertexValue, edgeValue] of graph.verticesTo(to)) {\n\t *     // iterates over all incoming edges of the `to` vertex\n\t * }\n\t */\n\tverticesTo(to) {\n\t\tthis[_expectVertices](to);\n\t\treturn this[_verticesTo](to);\n\t}\n\t*[_verticesTo](to) {\n\t\tlet done = new Set();\n\t\tfor (let from of this[_reverseEdges].get(to)) {\n\t\t\tif (this.hasEdge(from, to) && !done.has(from)) {\n\t\t\t\tdone.add(from);\n\t\t\t\tyield [from, this[_vertices].get(from), this[_edges].get(from).get(to)];\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Iterate over all vertices reachable from a given vertex in the graph, in no particular order.\n\t * @throws {Graph.VertexNotExistsError} if a vertex with the given `from` key does not exist\n\t * @param from {string} the key of the vertex to take the reachable vertices from\n\t * @returns { Iterator.<string, *> } an object conforming to the {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterator_protocol|ES6 iterator protocol}\n\t * @example\n\t * for (var it = graph.verticesWithPathFrom(from), kv; !(kv = it.next()).done;) {\n\t *     var key   = kv.value[0],\n\t *         value = kv.value[1];\n\t *     // iterates over all vertices reachable from `from`\n\t * }\n\t * @example\n\t * // in ECMAScript 6, you can use a for..of loop\n\t * for (let [key, value] of graph.verticesWithPathFrom(from)) {\n\t *     // iterates over all vertices reachable from `from`\n\t * }\n\t */\n\tverticesWithPathFrom(from) {\n\t\tthis[_expectVertices](from);\n\t\treturn this._verticesWithPathFrom(from, new Set());\n\t}\n\t*_verticesWithPathFrom(from, done) {\n\t\tfor (let to of this[_edges].get(from).keys()) {\n\t\t\tif (this.hasEdge(from, to) && !done.has(to)) {\n\t\t\t\tdone.add(to);\n\t\t\t\tyield [to, this[_vertices].get(to)];\n\t\t\t\tyield* this._verticesWithPathFrom(to, done);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Iterate over all vertices from which a given vertex in the graph can be reached, in no particular order.\n\t * @throws {Graph.VertexNotExistsError} if a vertex with the given `to` key does not exist\n\t * @param to {string} the key of the vertex to take the reachable vertices from\n\t * @returns { Iterator.<string, *> } an object conforming to the {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterator_protocol|ES6 iterator protocol}\n\t * @example\n\t * for (var it = graph.verticesWithPathTo(to), kv; !(kv = it.next()).done;) {\n\t *     var key   = kv.value[0],\n\t *         value = kv.value[1];\n\t *     // iterates over all vertices from which `to` can be reached\n\t * }\n\t * @example\n\t * // in ECMAScript 6, you can use a for..of loop\n\t * for (let [key, value] of graph.verticesWithPathTo(to)) {\n\t *     // iterates over all vertices from which `to` can be reached\n\t * }\n\t */\n\tverticesWithPathTo(to) {\n\t\tthis[_expectVertices](to);\n\t\treturn this._verticesWithPathTo(to, new Set());\n\t}\n\t*_verticesWithPathTo(to, done) {\n\t\tfor (let from of this[_reverseEdges].get(to)) {\n\t\t\tif (this.hasEdge(from, to) && !done.has(from)) {\n\t\t\t\tdone.add(from);\n\t\t\t\tyield [from, this[_vertices].get(from)];\n\t\t\t\tyield* this._verticesWithPathTo(from, done);\n\t\t\t}\n\t\t}\n\t}\n\n\n\t/**\n\t * Iterate over all vertices that have no incoming edges, in no particular order.\n\t * @returns { Iterator.<string, *> } an object conforming to the {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterator_protocol|ES6 iterator protocol}\n\t * @example\n\t * for (var it = graph.sources(), kv; !(kv = it.next()).done;) {\n\t *     var key   = kv.value[0],\n\t *         value = kv.value[1];\n\t *     // iterates over all vertices with no incoming edges\n\t * }\n\t * @example\n\t * // in ECMAScript 6, you can use a for..of loop\n\t * for (let [key, value] of graph.sources()) {\n\t *     // iterates over all vertices with no incoming edges\n\t * }\n\t */\n\t*sources() {\n\t\tlet done = new Set();\n\t\tfor (let key of this[_sources]) {\n\t\t\tif (this.hasVertex(key) && !done.has(key)) {\n\t\t\t\tdone.add(key);\n\t\t\t\tyield [key, this.vertexValue(key)];\n\t\t\t}\n\t\t}\n\t}\n\n\n\t/**\n\t * Iterate over all vertices that have no outgoing edges, in no particular order.\n\t * @returns { Iterator.<string, *> } an object conforming to the {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterator_protocol|ES6 iterator protocol}\n\t * @example\n\t * for (var it = graph.sinks(), kv; !(kv = it.next()).done;) {\n\t *     var key   = kv.value[0],\n\t *         value = kv.value[1];\n\t *     // iterates over all vertices with no outgoing edges\n\t * }\n\t * @example\n\t * // in ECMAScript 6, you can use a for..of loop\n\t * for (let [key, value] of graph.sinks()) {\n\t *     // iterates over all vertices with no outgoing edges\n\t * }\n\t */\n\t*sinks() {\n\t\tlet done = new Set();\n\t\tfor (let key of this[_sinks]) {\n\t\t\tif (this.hasVertex(key) && !done.has(key)) {\n\t\t\t\tdone.add(key);\n\t\t\t\tyield [key, this.vertexValue(key)];\n\t\t\t}\n\t\t}\n\t}\n\n\n\t/**\n\t * Iterate over all vertices of the graph in topological order.\n\t * @returns { Iterator.<string, *> } an object conforming to the {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterator_protocol|ES6 iterator protocol}\n\t * @example\n\t * for (var it = graph.vertices_topologically(), kv; !(kv = it.next()).done;) {\n\t *     var key   = kv.value[0],\n\t *         value = kv.value[1];\n\t *     // iterates over all vertices of the graph in topological order\n\t * }\n\t * @example\n\t * // in ECMAScript 6, you can use a for..of loop\n\t * for (let [key, value] of graph.vertices_topologically()) {\n\t *     // iterates over all vertices of the graph in topological order\n\t * }\n\t */\n\t*vertices_topologically() {\n\t\tlet visited = []; // stack\n\t\tlet handled = new Set();\n\n\t\tlet _this = this;\n\t\tfunction *visit(a) {\n\t\t\tvisited.push(a);\n\t\t\tlet i = visited.indexOf(a);\n\t\t\tif (i !== visited.length - 1) {\n\t\t\t\tlet cycle = visited.slice(i + 1).reverse();\n\t\t\t\tthrow new Graph.CycleError(cycle);\n\t\t\t}\n\t\t\tif (!handled.has(a)) {\n\t\t\t\tfor (let [b] of _this.verticesTo(a)) {\n\t\t\t\t\tyield* visit(b);\n\t\t\t\t}\n\t\t\t\tif (_this.hasVertex(a)) {\n\t\t\t\t\tyield [a, _this[_vertices].get(a)];\n\t\t\t\t}\n\t\t\t\thandled.add(a);\n\t\t\t}\n\t\t\tvisited.pop();\n\t\t}\n\t\tfor (let [a] of this.vertices()) {\n\t\t\tif (!handled.has(a)) {\n\t\t\t\tyield* visit(a);\n\t\t\t}\n\t\t}\n\t}\n\n\n\t//////////////////////////////\n\t////////// Clearing //////////\n\t//////////////////////////////\n\n\t/**\n\t * Remove all edges from the graph, but leave the vertices intact.\n\t */\n\tclearEdges() {\n\t\tfor (let [from, to] of this.edges()) { this.removeEdge(from, to) }\n\t}\n\n\t/**\n\t * Remove all edges and vertices from the graph, putting it back in its initial state.\n\t */\n\tclear() {\n\t\tfor (let [v] of this.vertices()) { this.destroyVertex(v) }\n\t}\n\n\n\t////////////////////////////////////////\n\t////////// (Advanced) Queries //////////\n\t////////////////////////////////////////\n\n\n\t/**\n\t * Ask whether `this` graph and a given `other` graph are equal.\n\t * Two graphs are equal if they have the same vertices and the same edges.\n\t * @param other {Graph} the other graph to compare to `this` one\n\t * @param [eqV] {function(*, *, string): boolean}\n\t *     a custom equality function for values stored in vertices;\n\t *     defaults to `===` comparison; The first two arguments are the\n\t *     values to compare. The third is the corresponding `key`.\n\t * @param [eqE] {function(*, *, string, string): boolean}\n\t *     a custom equality function for values stored in edges;\n\t *     defaults to the function given for `trV`; The first two arguments\n\t *     are the values to compare. The third and fourth are the `from`\n\t *     and `to` keys respectively.\n\t * @returns {boolean} `true` if the two graphs are equal; `false` otherwise\n\t */\n\tequals(other, eqV=(x,y)=>(x===y), eqE=eqV) {\n\t\tif (!(other instanceof Graph))                  { return false }\n\t\tif (this.vertexCount() !== other.vertexCount()) { return false }\n\t\tif (this.edgeCount()   !== other.edgeCount()  ) { return false }\n\t\tfor (let [key, value] of this.vertices()) {\n\t\t\tif (!other.hasVertex(key))                    { return false }\n\t\t\tif (!eqV(value, other.vertexValue(key), key)) { return false }\n\t\t}\n\t\tfor (let [from, to, value] of this.edges()) {\n\t\t\tif (!other.hasEdge(from, to))                         { return false }\n\t\t\tif (!eqE(value, other.edgeValue(from, to), from, to)) { return false }\n\t\t}\n\t\treturn true;\n\t}\n\n\n\t/**\n\t * Iterate over all simple directed cycles in this graph, in no particular order.\n\t * If you mutate the graph in between iterations, behavior of the iterator\n\t * becomes unspecified. (So, don't.)\n\t * @returns { Iterator.< Array.<string> > }\n\t *          an object conforming to the {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterator_protocol|ES6 iterator protocol}.\n\t *          Each iterated value is an array containing the vertex keys describing the cycle.\n\t *          These arrays will contain each vertex key only once  even the first/last one.\n\t * @example\n\t * for (var it = graph.cycles(), kv; !(kv = it.next()).done;) {\n\t *     var cycle = kv.value;\n\t *     // iterates over all cycles of the graph\n\t * }\n\t * @example\n\t * // in ECMAScript 6, you can use a for..of loop\n\t * for (let cycle of graph.cycles()) {\n\t *     // iterates over all cycles of the graph\n\t * }\n\t */\n\t*cycles() {\n\t\t// This algorithm is based on the following article:\n\t\t// Enumeration of the elementary circuits of a directed graph\n\t\t// R. Tarjan, SIAM Journal on Computing, 2 (1973), pp. 211-216\n\t\t// http://dx.doi.org/10.1137/0202017\n\t\t// -----\n\t\t// TODO: implement the improved version as defined by Johnson:\n\t\t// Finding all the elementary circuits of a directed graph.\n\t\t// D. B. Johnson, SIAM Journal on Computing 4, no. 1, 77-84, 1975.\n\t\t// http://dx.doi.org/10.1137/0204007\n\n\t\t/* bookkeeping */\n\t\tlet pointStack = [];\n\t\tlet markedStack, mark;\n\n\t\t/* the main recursive backtracking algorithm */\n\t\tlet _this = this;\n\t\tfunction* backtrack(v, out = {}) {\n\t\t\tpointStack.push(v);\n\t\t\tmark.add(v);\n\t\t\tmarkedStack.push(v);\n\t\t\tfor (let [w] of [..._this.verticesFrom(v)]) {\n\t\t\t\tif (w < pointStack[0]) { continue }\n\t\t\t\tif (w === pointStack[0]) {\n\t\t\t\t\tyield [...pointStack];\n\t\t\t\t\tout.found = true;\n\t\t\t\t} else if (!mark.has(w)) {\n\t\t\t\t\tlet o = {};\n\t\t\t\t\tyield* backtrack(w, o);\n\t\t\t\t\tout.found = out.found || o.found;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (out.found) { // if a simple cycle continuing the partial path on the pointStack has been found\n\t\t\t\tlet u;\n\t\t\t\tdo {\n\t\t\t\t\tu = markedStack.pop();\n\t\t\t\t\tmark.delete(u);\n\t\t\t\t} while (u !== v);\n\t\t\t}\n\t\t\tpointStack.pop();\n\t\t}\n\n\t\t/* start backtracking from each vertex in the graph */\n\t\tfor (let [a] of this.vertices()) {\n\t\t\tmarkedStack = [];\n\t\t\tmark = new Set();\n\t\t\tyield* backtrack(a);\n\t\t}\n\t}\n\n\n\t/**\n\t * Find any directed cycle in this graph.\n\t * @returns {?Array} an array containing the vertex keys describing the cycle; `null`, if there is no cycle;\n\t *                   The array will contain each vertex key only once  even the first/last one.\n\t */\n\tcycle() {\n\t\tlet result = this.cycles().next();\n\t\treturn result.done ? null : result.value;\n\t}\n\n\n\t/**\n\t * Test whether this graph contains a directed cycle.\n\t * @returns {boolean} whether this graph contains any directed cycle\n\t */\n\thasCycle() { return !this.cycles().next().done }\n\n\n\t/**\n\t * Iterate over all paths between two given keys in this graph, in no particular order.\n\t * If you mutate the graph in between iterations, behavior of the iterator\n\t * becomes unspecified. (So, don't.)\n\t * @param from {string} the key for the originating vertex\n\t * @param to   {string} the key for the terminating vertex\n\t * @throws {Graph.VertexNotExistsError} if the `from` and/or `to` vertices do not yet exist in the graph\n\t * @returns { Iterator.< Array.<string> > }\n\t *          an object conforming to the {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterator_protocol|ES6 iterator protocol}.\n\t *          Each iterated value is an array containing the vertex-keys describing the path.\n\t * @example\n\t * for (var it = graph.paths(), kv; !(kv = it.next()).done;) {\n\t *     var path = kv.value;\n\t *     // iterates over all paths between `from` and `to` in the graph\n\t * }\n\t * @example\n\t * // in ECMAScript 6, you can use a for..of loop\n\t * for (let path of graph.paths()) {\n\t *     // iterates over all paths between `from` and `to` in the graph\n\t * }\n\t */\n\tpaths(from, to) {\n\t\tthis[_expectVertices](from, to);\n\t\treturn this[_paths](from, to);\n\t}\n\t*[_paths](from, to) {\n\t\tlet stack = [];\n\n\t\tlet _this = this;\n\t\tfunction *pathsFromPrefix(current) {\n\t\t\tstack.push(current);\n\t\t\tfor (let [next] of _this.verticesFrom(current)) {\n\t\t\t\tif (next === to) {\n\t\t\t\t\tyield [...stack, to];\n\t\t\t\t} else if (stack.indexOf(next) === -1) {\n\t\t\t\t\tyield* pathsFromPrefix(next);\n\t\t\t\t}\n\t\t\t}\n\t\t\tstack.pop();\n\t\t}\n\n\t\tyield* pathsFromPrefix(from);\n\t}\n\n\n\t/**\n\t * Find any path between a given pair of keys.\n\t * @param from {string} the originating vertex\n\t * @param to   {string} the terminating vertex\n\t * @throws {Graph.VertexNotExistsError} if the `from` and/or `to` vertices do not yet exist in the graph\n\t * @returns {?Array} an array with the keys of the path found between the two vertices,\n\t *                   including those two vertices themselves; `null` if no such path exists\n\t */\n\tpath(from, to) {\n\t\tlet result = this.paths(from, to).next();\n\t\treturn result.done ? null : result.value;\n\t}\n\n\n\t/**\n\t * Test whether there is a directed path between a given pair of keys.\n\t * @param from {string} the originating vertex\n\t * @param to   {string} the terminating vertex\n\t * @throws {Graph.VertexNotExistsError} if the `from` and/or `to` vertices do not yet exist in the graph\n\t * @returns {boolean} whether such a path exists\n\t */\n\thasPath(from, to) { return !this.paths(from, to).next().done }\n\n\n\t/**\n\t * Get the number of edges going out of a given vertex.\n\t * @throws {Graph.VertexNotExistsError} if a vertex with this key does not exist\n\t * @param key {string} the key of the vertex to query\n\t * @returns {number} the number of edges going out of the `key` vertex\n\t */\n\toutDegree(key) {\n\t\tthis[_expectVertices](key);\n\t\treturn this[_edges].get(key).size;\n\t}\n\n\n\t/**\n\t * Get the number of edges coming into a given vertex.\n\t * @throws {Graph.VertexNotExistsError} if a vertex with this key does not exist\n\t * @param key {string} the key of the vertex to query\n\t * @returns {number} the number of edges coming into the `key` vertex\n\t */\n\tinDegree(key) {\n\t\tthis[_expectVertices](key);\n\t\treturn this[_reverseEdges].get(key).size;\n\t}\n\n\n\t/**\n\t * Get the number of edges connected to a given vertex.\n\t * @throws {Graph.VertexNotExistsError} if a vertex with this key does not exist\n\t * @param key {string} the key of the vertex to query\n\t * @returns {number} the number of edges connected to the `key` vertex\n\t */\n\tdegree(key) { return this.outDegree(key) + this.inDegree(key) }\n\n\n\t///////////////////////////////////////\n\t////////// Cloning and stuff //////////\n\t///////////////////////////////////////\n\n\n\t/**\n\t * Merge another graph into this graph.\n\t * @param other {Graph} the other graph to merge into this one\n\t * @param [mV] {function(*, *, string): *}\n\t *     a custom merge function for values stored in vertices;\n\t *     defaults to whichever of the two values is not `undefined`,\n\t *     giving preference to that of the other graph; The first and\n\t *     second arguments are the vertex values of `this` graph and the\n\t *     `other` graph respectively. The third is the corresponding `key`.\n\t * @param [mE] {function(*, *, string, string): *}\n\t *     a custom merge function for values stored in edges;\n\t *     defaults to whichever of the two values is not `undefined`,\n\t *     giving preference to that of the other graph; The first and\n\t *     second arguments are the edge values of `this` graph and the\n\t *     `other` graph respectively. The third and fourth are the\n\t *     corresponding `from` and `to` keys.\n\t */\n\tmergeIn(other, mV, mE) {\n\t\tif (!mV) { mV = (v1,v2)=>(typeof v2 === 'undefined' ? v1 : v2) }\n\t\tif (!mE) { mE = mV }\n\t\tfor (let [key] of other.vertices()) {\n\t\t\tthis.addVertex(key, mV(this.vertexValue(key), other.vertexValue(key)));\n\t\t}\n\t\tfor (let [from, to] of other.edges()) {\n\t\t\tthis.addEdge(from, to, mE(this.edgeValue(from, to), other.edgeValue(from, to), from, to));\n\t\t}\n\t}\n\n\n\t/**\n\t * Create a clone of this graph.\n\t * @param [trV] {function(*, string): *}\n\t *     a custom transformation function for values stored in vertices;\n\t *     defaults to the identity function; The first argument is the\n\t *     value to clone. The second is the corresponding `key`.\n\t * @param [trE] {function(*, string, string): *}\n\t *     a custom transformation function for values stored in edges;\n\t *     defaults to the function given for `trV`; The first argument\n\t *     is the value to clone. The second and third are the `from`\n\t *     and `to` keys respectively.\n\t * @returns {Graph} a clone of this graph\n\t */\n\tclone(trV=(v=>v), trE=trV) {\n\t\tlet result = new Graph();\n\t\tresult.mergeIn(this, (v1, v2) => trV(v2), (v1, v2) => trE(v2));\n\t\treturn result;\n\t}\n\n\n\t/**\n\t * Create a clone of this graph, but without any transitive edges.\n\t * @param [trV] {function(*, string): *}\n\t *     a custom transformation function for values stored in vertices;\n\t *     defaults to the identity function; The first argument is the\n\t *     value to clone. The second is the corresponding `key`.\n\t * @param [trE] {function(*, string, string): *}\n\t *     a custom transformation function for values stored in edges;\n\t *     defaults to the function given for `trV`; The first argument\n\t *     is the value to clone. The second and third are the `from`\n\t *     and `to` keys respectively.\n\t * @returns {Graph} a clone of this graph with all transitive edges removed\n\t */\n\ttransitiveReduction(trV, trE) {\n\t\t// argument defaults are handled in `clone`\n\t\tlet result = this.clone(trV, trE);\n\t\tfor (let [x] of this.vertices())\n\t\t\tfor (let [y] of this.vertices())\n\t\t\t\tif (result.hasEdge(x, y))\n\t\t\t\t\tfor (let [z] of this.vertices())\n\t\t\t\t\t\tif (result.hasPath(y, z))\n\t\t\t\t\t\t\tresult.removeEdge(x, z);\n\t\treturn result;\n\t}\n\n\t/**\n\t * This method replaces stretches of non-branching directed pathway into single edges.\n\t * More specifically, it identifies all 'nexus' vertices in the graph and preserves them.\n\t * It then removes all other vertices and all edges from the graph, then inserts edges\n\t * between nexuses that summarize the connectivity that was there before.\n\t *\n\t * A nexus is any vertex that is *not* characterized by '1 edge in, 1 edge out'.\n\t * A custom `isNexus` function may be provided to manually select additional vertices\n\t * that should be preserved as nexus.\n\t * @param [isNexus] {function(string, *): boolean}\n\t *                  a predicate for identifying additional vertices that should be treated as nexus;\n\t *                  It receives a `key` and `value` associated to a vertex and should return\n\t *                  true if and only if that vertex should be a nexus.\n\t * @throws {Graph.BranchlessCycleError} if the graph contains a cycle with no branches or nexuses\n\t */\n\tcontractPaths(isNexus=(()=>false)) {\n\n\t\t/* what makes a a vertex a nexus (start/end-point) */\n\t\tlet nexuses = new Set(\n\t\t\t[...this.vertices()]\n\t\t\t\t.filter(([key, val]) => this.outDegree(key) !== 1 || this.inDegree(key) !== 1 || isNexus(key, val))\n\t\t\t\t.map(([key]) => key)\n\t\t);\n\n\t\t/* error if there is a branch-less cycle */\n\t\t{\n\t\t\tlet unhandledVertices = new Set([...this.vertices()].map(([key])=>key));\n\t\t\tconst checkForBlCycle = (key) => {\n\t\t\t\tif (!unhandledVertices.has(key)) { return }\n\t\t\t\tunhandledVertices.delete(key);\n\t\t\t\tfor (let [next] of this.verticesFrom(key)) { checkForBlCycle(next) }\n\t\t\t\tfor (let [next] of this.verticesTo  (key)) { checkForBlCycle(next) }\n\t\t\t};\n\t\t\tfor (let key of nexuses) { checkForBlCycle(key) }\n\t\t\tif (unhandledVertices.size > 0) {\n\t\t\t\tlet startingKey = unhandledVertices.values().next().value,\n\t\t\t\t    cycle       = [],\n\t\t\t\t    current     = startingKey;\n\t\t\t\tdo {\n\t\t\t\t\tcycle.push(current);\n\t\t\t\t\tcurrent = this.verticesFrom(current).next().value[0];\n\t\t\t\t} while (current !== startingKey);\n\t\t\t\tthrow new Graph.BranchlessCycleError(cycle);\n\t\t\t}\n\t\t}\n\n\t\t/* bookkeeping */\n\t\tlet contractionsToAdd = new Map();\n\n\t\t/* register the path starting with the given edge */\n\t\tconst startPath = (start, next, backwards) => {\n\t\t\t/* functions to help branch on `backwards` */\n\t\t\tconst fromTo       = (strt = start, nxt = next) => backwards ? [nxt, strt] : [strt, nxt];\n\t\t\tconst verticesNext = (v) => backwards ? this.verticesTo(v) : this.verticesFrom(v);\n\n\t\t\t/* bookkeeping */\n\t\t\tlet verticesToRemove = new Set();\n\t\t\tlet edgesToRemove    = new Set();\n\t\t\tlet path = new Graph();\n\n\t\t\t/* process the start of the path */\n\t\t\tpath.addVertex(start, this.vertexValue(start));\n\t\t\tpath.addVertex(next,  this.vertexValue(next) );\n\t\t\tpath.addNewEdge(...fromTo(), this.edgeValue(...fromTo()));\n\t\t\tedgesToRemove.add(fromTo());\n\n\t\t\t/* process as [current, next] moves across the path */\n\t\t\tlet current;\n\t\t\twhile (!nexuses.has(next)) {\n\t\t\t\t[current, next] = [next, verticesNext(next).next().value[0]];\n\t\t\t\tpath.addVertex(next, this.vertexValue(next));\n\t\t\t\tpath.addNewEdge(...fromTo(current, next), this.edgeValue(...fromTo(current, next)));\n\t\t\t\tverticesToRemove.add(current);\n\t\t\t\tedgesToRemove.add(fromTo(current, next));\n\t\t\t}\n\n\t\t\t/* register new path contraction */\n\t\t\tif (!contractionsToAdd.get(fromTo()[0]))                  { contractionsToAdd.set(fromTo()[0], new Map())                    }\n\t\t\tif (!contractionsToAdd.get(fromTo()[0]).get(fromTo()[1])) { contractionsToAdd.get(fromTo()[0]).set(fromTo()[1], new Graph()) }\n\t\t\tcontractionsToAdd.get(fromTo()[0]).get(fromTo()[1]).mergeIn(path);\n\n\t\t\t/* remove old edges and vertices */\n\t\t\tfor (let key of edgesToRemove)    { this.removeExistingEdge(...key) }\n\t\t\tfor (let key of verticesToRemove) { this.destroyExistingVertex(key) }\n\t\t};\n\n\t\t/* process paths starting at all nexus points */\n\t\tfor (let first of nexuses) {\n\t\t\tfor (let [next] of this.verticesFrom(first)) { startPath(first, next, false) }\n\t\t\tfor (let [next] of this.verticesTo  (first)) { startPath(first, next, true)  }\n\t\t}\n\n\t\t/* add the replacement edges */\n\t\tfor (let [from, toVal] of contractionsToAdd)\n\t\t\tfor (let [to, rememberedPath] of toVal)\n\t\t\t\tthis.addNewEdge(from, to, rememberedPath);\n\t}\n\n\n\t////////////////////////////////\n\t////////// Assertions //////////\n\t////////////////////////////////\n\t\n\t[_expectVertices](key1, key2) {\n\t\tif (key2 && !this.hasVertex(key2)) {\n\t\t\tif (!this.hasVertex(key1)) {\n\t\t\t\tthrow new Graph.VertexNotExistsError([key1, key2]);\n\t\t\t} else {\n\t\t\t\tthrow new Graph.VertexNotExistsError([key2]);\n\t\t\t}\n\t\t} else if (!this.hasVertex(key1)) {\n\t\t\tthrow new Graph.VertexNotExistsError([key1]);\n\t\t}\n\t}\n\n\t[_expectVertexAbsent](key) {\n\t\tif (this.hasVertex(key)) {\n\t\t\tthrow new Graph.VertexExistsError([[key, this.vertexValue(key)]]);\n\t\t}\n\t}\n\n\t[_expectEdge]([from, to]) {\n\t\tif (!this.hasEdge(from, to)) {\n\t\t\tthrow new Graph.EdgeNotExistsError([[from, to]]);\n\t\t}\n\t}\n\n\t[_expectEdgeAbsent]([from, to]) {\n\t\tif (this.hasEdge(from, to)) {\n\t\t\tthrow new Graph.EdgeExistsError([[[from, to], this.edgeValue(from, to)]]);\n\t\t}\n\t}\n\n\t[_expectNoConnectedEdges](key) {\n\t\tlet edges = [];\n\t\tfor (let [to]   of this.verticesFrom(key)) { edges.push([[key,  to ], this.edgeValue(key,  to )]) }\n\t\tfor (let [from] of this.verticesTo  (key)) { edges.push([[from, key], this.edgeValue(from, key)]) }\n\t\tif (edges.length) { throw new Graph.HasConnectedEdgesError(key, edges) }\n\t}\n\n}\n\n\n//  ////////////////////////////////////////////////////////////////////////////////////////////////\n//  // Errors //////////////////////////////////////////////////////////////////////////////////////\n//  ////////////////////////////////////////////////////////////////////////////////////////////////\n\n/**\n * @class\n * @classdesc This type of error is thrown when specific vertices are expected not to exist, but do.\n * @extends Error\n */\nGraph.VertexExistsError = class VertexExistsError extends Error {\n\tconstructor(vertices) {\n\t\tsuper();\n\t\t/**\n\t\t * the set of relevant vertices as `[key, value]` shaped arrays\n\t\t * @public\n\t\t * @constant vertices\n\t\t * @memberof Graph.VertexExistsError\n\t\t * @instance\n\t\t * @type {Set.<Array>}\n\t\t */\n\t\tthis.vertices = new Set(vertices);\n\t\tthis.message = `This graph has ${\n\t\t\tthis.vertices.size === 1 ? \"a vertex\" : \"vertices\"\n\t\t} '${\n\t\t\t[...this.vertices].map(([key]) => key).join(`', '`)\n\t\t}'`;\n\t}\n};\n\n/**\n * @class\n * @classdesc This type of error is thrown when specific vertices are expected to exist, but don't.\n * @extends Error\n */\nGraph.VertexNotExistsError = class VertexNotExistError extends Error {\n\tconstructor(keys) {\n\t\tsuper();\n\t\t/**\n\t\t * the set of relevant vertex keys\n\t\t * @public\n\t\t * @constant vertices\n\t\t * @memberof Graph.VertexNotExistsError\n\t\t * @instance\n\t\t * @type {Set.<string>}\n\t\t */\n\t\tthis.vertices = new Set(keys);\n\t\tthis.message = `This graph does not have ${\n\t\t\tthis.vertices.size === 1 ? \"a vertex\" : \"vertices\"\n\t\t} '${\n\t\t\t[...this.vertices].join(`', '`)\n\t\t}'`;\n\t}\n};\n\n/**\n * @class\n * @classdesc This type of error is thrown when specific edges are expected not to exist, but do.\n * @extends Error\n */\nGraph.EdgeExistsError = class EdgeExistsError extends Error {\n\tconstructor(edges) {\n\t\tsuper();\n\t\t/**\n\t\t * the set of relevant edges as `[[from, to], value]` shaped arrays\n\t\t * @public\n\t\t * @constant edges\n\t\t * @memberof Graph.EdgeExistsError\n\t\t * @instance\n\t\t * @type {Set.<Array>}\n\t\t */\n\t\tthis.edges = new Set(edges);\n\t\tthis.message = `This graph has ${\n\t\t\tthis.edges.size === 1 ? \"an edge\" : \"edges\"\n\t\t} ${\n\t\t\t[...this.edges].map(([[from, to]]) => `['${from}', '${to}']`).join(`, `)\n\t\t}`;\n\t}\n};\n\n/**\n * @class\n * @classdesc This type of error is thrown when specific edges are expected to exist, but don't.\n * @extends Error\n */\nGraph.EdgeNotExistsError = class EdgeNotExistsError extends Error {\n\tconstructor(edges) {\n\t\tsuper();\n\t\t/**\n\t\t * the set of relevant edge keys as `[from, to]` shaped arrays\n\t\t * @public\n\t\t * @constant edges\n\t\t * @memberof Graph.EdgeNotExistsError\n\t\t * @instance\n\t\t * @type {Set.<Array.<string>>}\n\t\t */\n\t\tthis.edges = new Set(edges);\n\t\tthis.message = `This graph does not have ${\n\t\t\tthis.edges.size === 1 ? \"an edge\" : \"edges\"\n\t\t} ${\n\t\t\t[...this.edges].map(([from, to]) => `['${from}', '${to}']`).join(`, `)\n\t\t}`;\n\t}\n};\n\n/**\n * @class\n * @classdesc This type of error is thrown when a vertex is expected not to have any connected edges, but does.\n * @extends Graph.EdgeExistsError\n */\nGraph.HasConnectedEdgesError = class HasConnectedEdgesError extends Graph.EdgeExistsError {\n\tconstructor(key, edges) {\n\t\tsuper(edges);\n\t\t/**\n\t\t * the key of the vertex that has connected edges\n\t\t * @public\n\t\t * @constant vertex\n\t\t * @memberof Graph.HasConnectedEdgesError\n\t\t * @instance\n\t\t * @type {string}\n\t\t */\n\t\tthis.vertex = key;\n\t\tthis.message = `The '${key}' vertex has connected ${\n\t\t\tthis.edges.size === 1 ? \"an edge\" : \"edges\"\n\t\t} ${\n\t\t\t[...this.edges].map(([[from, to]]) => `['${from}', '${to}']`).join(`, `)\n\t\t}`;\n\t}\n};\n\n/**\n * @class\n * @classdesc This type of error is thrown when a graph is expected not to have a directed cycle, but does.\n * @extends Error\n */\nGraph.CycleError = class CycleError extends Error {\n\tconstructor(cycle) {\n\t\tsuper();\n\t\t/**\n\t\t * the vertices involved in the cycle, in order but with an unspecified starting point\n\t\t * @public\n\t\t * @constant cycle\n\t\t * @memberof Graph.CycleError\n\t\t * @instance\n\t\t * @type {Array.<string>}\n\t\t */\n\t\tthis.cycle = cycle;\n\t\tthis.message = `This graph contains a cycle: ${cycle}`;\n\t}\n};\n\n/**\n * @class\n * @classdesc This type of error is thrown when a graph is expected not to have a branch-less directed cycle, but does.\n * @extends Graph.CycleError\n */\nGraph.BranchlessCycleError = class BranchlessCycleError extends Graph.CycleError {\n\tconstructor(cycle) {\n\t\tsuper(cycle);\n\t\tthis.message = `This graph contains a branch-less cycle: ${cycle}`;\n\t}\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/graph.es6.js\n **/"]}